% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/survey.R
\name{as_svrepdesign}
\alias{as_svrepdesign}
\alias{as_svrepdesign.tbl_sample}
\title{Convert a tbl_sample to a replicate-weight survey design}
\usage{
as_svrepdesign(x, ...)

\method{as_svrepdesign}{tbl_sample}(
  x,
  ...,
  type = c("auto", "JK1", "JKn", "BRR", "bootstrap", "subbootstrap", "mrbbootstrap",
    "Fay")
)
}
\arguments{
\item{x}{A \code{tbl_sample} object produced by \code{\link[=execute]{execute()}}.}

\item{...}{Additional arguments passed to \code{\link[survey:as.svrepdesign]{survey::as.svrepdesign()}}.}

\item{type}{Replicate method passed to \code{\link[survey:as.svrepdesign]{survey::as.svrepdesign()}}.
One of \code{"auto"}, \code{"JK1"}, \code{"JKn"}, \code{"BRR"}, \code{"bootstrap"},
\code{"subbootstrap"}, \code{"mrbbootstrap"}, or \code{"Fay"}.}
}
\value{
A \code{svyrep.design} object from the survey package.
}
\description{
Creates a \code{svyrep.design} object from a \code{tbl_sample} by first
converting to a \code{\link[survey:svydesign]{survey::svydesign()}} object via \code{\link[=as_svydesign]{as_svydesign()}},
then converting with \code{\link[survey:as.svrepdesign]{survey::as.svrepdesign()}}.
}
\details{
Replicate conversion currently supports single-phase, non-PPS designs.
Two-phase and PPS designs should be exported with \code{\link[=as_svydesign]{as_svydesign()}} and
analyzed with linearization-based variance.
}
\examples{
\dontrun{
sample <- sampling_design() |>
  stratify_by(facility_type, alloc = "proportional") |>
  draw(n = 300) |>
  execute(kenya_health, seed = 42)

rep_svy <- as_svrepdesign(sample, type = "auto")
survey::svymean(~score, rep_svy)
}

}
\seealso{
\code{\link[=as_svydesign]{as_svydesign()}} for linearization export,
\code{\link[survey:as.svrepdesign]{survey::as.svrepdesign()}} for the underlying conversion
}
